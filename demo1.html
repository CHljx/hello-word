<!--
	NOTES:
	1. All tokens are represented by '$' sign in the template.
	2. You can write your code only wherever mentioned.
	3. All occurrences of existing tokens will be replaced by their appropriate values.
	4. Blank lines will be removed automatically.
	5. Remove unnecessary comments before creating your template.
-->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="authoring-tool" content="Adobe_Animate_CC">
<title>demo1</title>
<!-- write your code here -->
<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
<script src="demo1.js"></script>
<script>
var canvas, stage, exportRoot;
function init() {
	createjs.MotionGuidePlugin.install();//使用引导层必须
	canvas = document.getElementById("canvas");
    stage = new createjs.Stage(canvas);//创建stage
    createjs.Ticker.setFPS(30);//设置帧频
    createjs.Ticker.addEventListener("tick", stageBreakHandler);//创建全局舞台刷新
	createRain();
}
function createRain()
{
    var scount = 300;
    for(var i = 0;i < scount;i++)
    {
        var yudian = new lib.rainCom();
        yudian.x = - 200 +  900*Math.random();
        yudian.y = -20;
        yudian.gotoAndPlay(Math.ceil(Math.random()*yudian.totalFrames));//随机跳帧 防止所有雨点一起下来
        yudian.mouseEnabled = false;//一般特效都需要取消鼠标事件 已防止阻碍正常鼠标事件
        yudian.mouseChildren = false;
        stage.addChild(yudian);
        var scale = 0.2 + Math.random() * 0.8;
        yudian.scaleX = -scale;
        yudian.scaleY = scale;
        var a = 0.4 + Math.random()*0.3;
        yudian.alpha = a;
 
    }
}
function stageBreakHandler(event)
{
    stage.update();
}
</script>
<!-- write your code here -->
</head>
<body onload="init();" style="margin:0px;">
	<canvas id="canvas" width="550" height="400" style="display: block; background-color:rgba(0, 0, 0, 1.00)"></canvas>
</body>
</html>